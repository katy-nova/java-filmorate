# Описание проекта
Данный проект реализует хранение информации о фильмах с возможностью регистрации пользователя
Создан на Spring Boot с использование базы данных PostgreSQL

## Архитектура

Реализована трехуровневая архитектура:

- **Слой репозитория**: для работы с базой данных.
- **Слой сервиса**: для бизнес-логики.
- **Слой контроллера**: для обработки запросов.

Все сущности передаются между слоем сервиса и контроллера с использованием DTO

###Контроллеры представлены в двух экземплярах:

1. Один контроллер реализует все типы запросов (GET, PUT, DELETE, POST).
2. Второй контроллер предназначен для работы с HTML файлами, где все модифицирующие операции реализованы через метод
   POST.

## База данных

### 3 основные таблицы:

- **Таблица пользователей**
- **Таблица фильмов** (с добавленными полями жанр и рейтинг)
- **Таблица отзывов**, которая связывается с другими двумя таблицами через ключи (ID).

### 3 промежуточные таблицы:

- **Таблица связей фильмы - лайки**
- **Таблица связей между друзьями**
- **Таблица связей пользователь - его роль**

## Авторизация и безопасность

### Реализована авторизация через JWT token с разделениями по правам USER, ADMIN

#### Права пользователя без авторизации:

- **Регистрация**
- **Получения списка всех фильмов**

#### Права USER:

- **Просмотр информации о фильме**
- **Добавление отзывов и лайков**(только от своего имени)
- **Изменение информации о себе**
- **Удаление своего профиля**
- **Удаление/добавление в друзья других пользователей**

#### Дополнительные права ADMIN:

- **Добавление/изменение/удаление фильмов**
- **Изменение/удаление других пользователей**
- **Получения/удаление прав администратора**

## Особенности бизнес-логики:

- По умолчанию все пользователи регистрируются как USER, права ADMIN может выдать только администратор.
- При добавлении отзыва у фильма автоматически пересчитывается рейтинг.
- Один пользователь может добавить только один отзыв/лайк.




